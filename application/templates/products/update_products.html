{% extends "layout.html" %}

{% block body %}
{% if not valid_product %}
<form method="POST" action="{{ url_for('products_update_form') }}">
{% else %}
<form method="POST" action="{{ url_for('products_update') }}">
{% endif %}

    {% if not valid_product %}
    <div class="col-lg-5 my-5 ml-5">
        <div class="form-group">
            {{ form.oldName.label }}
            {{ form.oldName }}
        </div>
        {{ form.button_get }}
    </div>

    {% for error in form.oldName.errors %}
        <p class="my-5 ml-5">{{ error }}</p>
    {% endfor %}

    {% else %}
    <div class="col-lg-5 my-5 ml-5">

        {{ form.hiddenName }}

        <div class="form-group">
            {{ form.name.label }}
            {{ form.name }}
        </div>
        
        <div class="form-group">
            {{ form.desc.label }}
            {{ form.desc }}
        </div>
        
        <div class="form-group">
            {{ form.price.label }}
            {{ form.price }}
        </div>

        <div class="form-group">
            {{ form.quantity.label }}
            {{ form.quantity }}
        </div>

        <div class="form-group">
            {{ form.category.label }}
            {{ form.category }}
        </div>
        {{ form.button_update }}
    </div>

    {% for error in form.name.errors %}
        <p class="my-2 ml-5">{{ error }}</p>
    {% endfor %}

    {% for error in form.desc.errors %}
        <p class="my-2 ml-5">{{ error }}</p>
    {% endfor %}

    {% for error in form.price.errors %}
        <p class="my-2 ml-5">{{ error }}</p>
    {% endfor %}

    {% for error in form.quantity.errors %}
        <p class="my-2 ml-5">{{ error }}</p>
    {% endfor %}

    {% for error in form.category.errors %}
        <p class="my-2 ml-5">{{ error }}</p>
    {% endfor %}
    {% endif %}

</form>
{% endblock %}